# 🔑 API Keys Setup Guide\n\n> **Complete guide to setting up API keys for Toolhouse development** - Everything you need to get started\n\n## 🚀 Quick Start (Essential Keys)\n\nFor most Toolhouse agents, you only need these two keys:\n\n### 1. Toolhouse API Key (Required)\n```bash\n# Get your key from Toolhouse Dashboard\n# 1. Visit: https://toolhouse.ai/dashboard/api-keys\n# 2. Click \"Generate New Key\"\n# 3. Copy the key (starts with \"th_\")\n\nTOOLHOUSE_API_KEY=th_your_key_here\n```\n\n### 2. LLM Provider Key (Required)\n```bash\n# Most common: OpenAI (for GPT models)\n# 1. Visit: https://platform.openai.com/api-keys\n# 2. Click \"Create new secret key\"\n# 3. Copy the key (starts with \"sk-\")\n\nOPENAI_API_KEY=sk-your_openai_key_here\n```\n\n**That's it! These two keys will get you started with most agents.**\n\n## 🎯 LLM Provider Keys\n\n### OpenAI (Most Popular)\n- **Where to get**: https://platform.openai.com/api-keys\n- **Key format**: `sk-proj-...` or `sk-...`\n- **Models**: `@openai/gpt-4o`, `@openai/gpt-4o-mini`, `@openai/o1-preview`\n- **Pricing**: $0.15-$15 per 1M tokens (varies by model)\n- **Setup**:\n  ```bash\n  # In your .env file\n  OPENAI_API_KEY=sk-your_key_here\n  ```\n\n### Anthropic (Claude)\n- **Where to get**: https://console.anthropic.com/\n- **Key format**: `sk-ant-...`\n- **Models**: `@anthropic/claude-sonnet-4`, `@anthropic/claude-haiku-3-5`\n- **Pricing**: $3-$60 per 1M tokens (varies by model)\n- **Setup**:\n  ```bash\n  ANTHROPIC_API_KEY=sk-ant-your_key_here\n  ```\n\n### Groq (High-Speed Inference)\n- **Where to get**: https://console.groq.com/keys\n- **Key format**: `gsk-...`\n- **Models**: `@groq/llama-3.3-70b-versatile`, `@groq/mixtral-8x7b-32768`\n- **Pricing**: Free tier available, very fast inference\n- **Setup**:\n  ```bash\n  GROQ_API_KEY=gsk-your_key_here\n  ```\n\n### Google AI (Gemini)\n- **Where to get**: https://aistudio.google.com/app/apikey\n- **Key format**: Various formats\n- **Models**: `@google/gemini-pro`, `@google/gemini-pro-vision`\n- **Pricing**: Generous free tier\n- **Setup**:\n  ```bash\n  GOOGLE_API_KEY=your_google_key_here\n  ```\n\n## 🛠️ Tool-Specific API Keys\n\n### Communication Tools\n\n#### Slack Integration\n```bash\n# For Slack bots and notifications\n# 1. Create Slack app: https://api.slack.com/apps\n# 2. Get Bot User OAuth Token\n\nSLACK_BOT_TOKEN=xoxb-your_bot_token_here\nSLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL\n```\n\n#### Email Services (SendGrid)\n```bash\n# For sending emails from agents\n# 1. Sign up: https://sendgrid.com/\n# 2. Create API key in dashboard\n\nSENDGRID_API_KEY=SG.your_sendgrid_key_here\nSENDGRID_FROM_EMAIL=noreply@yourdomain.com\n```\n\n### Data & Search Tools\n\n#### Google Search\n```bash\n# For web search capabilities\n# 1. Create project: https://console.developers.google.com/\n# 2. Enable Custom Search API\n# 3. Create search engine: https://cse.google.com/\n\nGOOGLE_SEARCH_API_KEY=your_search_key_here\nGOOGLE_SEARCH_ENGINE_ID=your_engine_id_here\n```\n\n#### Weather Data\n```bash\n# For weather information\n# 1. Sign up: https://openweathermap.org/api\n# 2. Get free API key\n\nOPENWEATHER_API_KEY=your_weather_key_here\n```\n\n### Database Connections\n\n#### PostgreSQL\n```bash\n# For database integration\nDATABASE_URL=postgresql://username:password@localhost:5432/database_name\n```\n\n#### MongoDB\n```bash\n# For NoSQL database\nMONGO_URL=mongodb://username:password@localhost:27017/database_name\n```\n\n### Cloud Storage\n\n#### AWS S3\n```bash\n# For file storage and processing\n# 1. Create AWS account: https://aws.amazon.com/\n# 2. Create IAM user with S3 permissions\n# 3. Generate access keys\n\nAWS_ACCESS_KEY_ID=your_access_key_here\nAWS_SECRET_ACCESS_KEY=your_secret_key_here\nAWS_REGION=us-west-2\nAWS_S3_BUCKET=your_bucket_name\n```\n\n## 📋 Setup Process\n\n### Step 1: Copy Environment Template\n```bash\n# In your project directory\ncp .env.example .env\n```\n\n### Step 2: Add Required Keys\n```bash\n# Edit .env file and add at minimum:\n# - TOOLHOUSE_API_KEY\n# - OPENAI_API_KEY (or your preferred LLM provider)\n```\n\n### Step 3: Secure Your Keys\n```bash\n# Set proper permissions\nchmod 600 .env\n\n# Verify .env is in .gitignore\necho \".env\" >> .gitignore\n```\n\n### Step 4: Test Your Setup\n```bash\n# Verify authentication\nth whoami\n\n# Test your agent\n./scripts/test.sh\n```\n\n## 🔒 Security Best Practices\n\n### Environment-Specific Keys\n```bash\n# Use different keys for each environment\n\n# Development\nOPENAI_API_KEY=sk-dev-your_dev_key_here\n\n# Staging\nOPENAI_API_KEY=sk-staging-your_staging_key_here\n\n# Production\nOPENAI_API_KEY=sk-prod-your_production_key_here\n```\n\n### Toolhouse Secret Management\n```bash\n# Store sensitive keys in Toolhouse (recommended for production)\nth secrets add OPENAI_API_KEY=sk-your_key_here\nth secrets add DATABASE_PASSWORD=your_secure_password\n\n# Reference in agent.yaml\nvars:\n  api_key: \"${OPENAI_API_KEY}\"\n  db_password: \"${DATABASE_PASSWORD}\"\n```\n\n### Key Rotation\n```bash\n# Regularly rotate API keys\n# 1. Generate new key\n# 2. Update .env file\n# 3. Test agent\n# 4. Deactivate old key\n# 5. Deploy to production\n```\n\n## 🚨 Common Issues & Solutions\n\n### Authentication Errors\n```bash\n# Problem: \"Invalid API key\"\n# Solutions:\n# 1. Check key format (OpenAI keys start with 'sk-')\n# 2. Verify key is active in provider dashboard\n# 3. Check for extra spaces or characters\n# 4. Ensure key has required permissions\n```\n\n### Environment Loading Issues\n```bash\n# Problem: Environment variables not loading\n# Solutions:\n# 1. Check .env file exists\n# 2. Verify file permissions (chmod 600 .env)\n# 3. Check .env is in project root\n# 4. Restart VS Code if using integrated terminal\n```\n\n### Rate Limiting\n```bash\n# Problem: \"Rate limit exceeded\"\n# Solutions:\n# 1. Check your API usage in provider dashboard\n# 2. Implement exponential backoff\n# 3. Consider upgrading to higher tier\n# 4. Use multiple API keys with load balancing\n```\n\n## 💰 Cost Management\n\n### Free Tiers Available\n- **Groq**: Generous free tier with fast inference\n- **Google AI**: Free Gemini usage\n- **Toolhouse**: 50 agent runs/month on free plan\n- **OpenWeather**: 1000 calls/day free\n- **SendGrid**: 100 emails/day free\n\n### Cost Monitoring\n```bash\n# Monitor usage\nth account status\nth usage --period month\n\n# Set up billing alerts in provider dashboards\n# Implement usage tracking in your agents\n```\n\n## 📚 Quick Reference Links\n\n### API Key Dashboards\n- [Toolhouse Dashboard](https://toolhouse.ai/dashboard/api-keys)\n- [OpenAI API Keys](https://platform.openai.com/api-keys)\n- [Anthropic Console](https://console.anthropic.com/)\n- [Groq Console](https://console.groq.com/keys)\n- [Google AI Studio](https://aistudio.google.com/app/apikey)\n\n### Documentation\n- [Toolhouse Docs](https://docs.toolhouse.ai/)\n- [OpenAI API Docs](https://platform.openai.com/docs)\n- [Anthropic API Docs](https://docs.anthropic.com/)\n- [Slack API Docs](https://api.slack.com/)\n- [AWS API Docs](https://docs.aws.amazon.com/)\n\n---\n\n**🔑 Remember: Start with just Toolhouse + OpenAI keys, then add others as needed for specific features!**"